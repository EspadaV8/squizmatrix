MYSOURCE MATRIX CHANGELOG

VERSION 3.5.0 Beta

Featured Changes
----------------------

Session Timeouts

	A new feature has been added to allow user sessions within MySource Matrix to be maintained for a customisable period of time (eg. 7 days).
	A user is able to keep their session information (including login details and shopping basket contents) for a period of time without having to have their web browser open for the entire period. They could
	log into MySource Matrix, edit some content, come back in 3 days and still be logged in.

	The 3 different types of session timeout options that can be set are:
	- whether a user's session should expire when they close their browser
	- whether a user's session should expire when they've been inactive for a certain period of time
	- whether a user's session should expire if they haven't authenticated for a certain period of time

	The feature has been added as a global/group preference rather than a system wide configuration setting, so you can choose to customise session timeout options per user group if you require, or use the global preference for all users.

Oracle Support

	A number of additional changes have been made to the MySource Matrix database schema and source code to allow MySource Matrix to run on an
	Oracle database. MySource Matrix can be installed and run on Oracle 9i but has not undergone thorough testing. Oracle support should be
	considered preliminary but one development team will be doing all new development on an Oracle database instead of PostgreSQL.

Paint Layouts

	A new concept called Paint Layouts has been added to MySource Matrix. Paint layouts are like designs for your content. You can crate a paint
	layout and customise how individual types of assets should look. For example, a news asset might be printed a certain way by default, but a
	paint layout could be created so you can define your own way it is printed. Keywords are used to place attributes and metadata values of the asset on the screen.

Log Manager

	A new log manager system asset has been created to help manage the rotation of system log files. Future plans for development will allow
	users to use the log manager to configure custom log rotation schedules as well as view existing system logs from the administration interface.
	More details of the new log management system will come shortly due to changes in search logging that are currently in development.

Backend Translation

	The MySource Matrix backend is now multi-language capable, meaning all string and error messages can be translated into languages other than English
	Currently, the backend interface is only available in English, but support for other languages is planned.

Asset Map Changes

	Many changes have been made to the asset map to improve usability for larger systems and to fix some of the bugs that existed. The main new features are multiple tree support, undockable view and multiple move/clone/link operations.

Triggers

	A triggering system has been added to MySource Matrix to help users complete repetitive task and to enforce system wide business rules. For
	example, you can configure a trigger in the system so that when Image assets are created under your site, they are automatically resized to 3 size variations, and added to the Media Folder.

	Once installed, make sure you enable triggers on the Details screen of the Trigger Manager if you want to use them.

Complete Changelog
----------------------

Core

+ Added image varieties which allow for the creation of auto-size assets and thumbnail management
+ Added a preview screen to each asset which allows for the asset to be previewed using all its urls
+ Added a public user which allows better permission settings for non-logged in users on the frontend and backend
+ Urls are now sorted on the web path screen to make finding urls easier
+ Changes to bodycopy to allow for the insertion of shadow assets as hyperlinks and images
+ Interface changes to the permission screen to better indicate when no permissions are set
+ User Groups now have a web path so user groups can be visible on the frontend
+ Images now have alt text, title text, an image caption, image width, image height and image size attributes
+ New "Allow Unrestricted Access" option for files so files can be restricted to use the MySource Matrix url rather than the __data url
+ Added web folders for designs, users and media to make designs, user and media assets web accessible
+ Raw HTML content types now has a plugin allowing you to select from a list of available keywords and have the keyword inserted for you
+ Users now have web paths meaning their details screen can now be edited from the simple editing interface without the account manager
+ Internal messages can now be sent to other users from their inbox
+ A new report to allow a list of assets who's status has not changed for a defined period of time
+ Report assets now have the ability to show the assets under them in the asset map
+ Added the ability for MySource Matrix sessions to be continued over domains using a site network asset
+ Added batching of triggers to execute trigger actions on a large number of assets
+ Added group restrictions based on IP ranges and show_if style conditions
+ Workflow steps can now have an expiry date set, so that if the step has not been completed after the allocated period of time the administrators of the asset are notified via internal message and email.
+ Assets can now be deleted in the asset map using the delete key
+ My Space tab in the Asset Map now has the ability to go straight to a user's inbox, sent messages, and to send a new message
+ A new global print var, content_type, has been added to designs to allow you to set the content-type of the output
+ Rss feeds can now be created using the content_type print var in combination with a listing asset
+ New tools section in the top right corner of the administration interface
+ Added global search and replace tool to allow the searching and replacing of text in assets
+ New text file asset that allows the user to edit its contents
+ A new trigger action to set the future status of an asset
+ A new trigger action to grant or deny permission for an asset
+ The Broken Links Report has now been renamed to Links Report
+ New cron job to rotate log files, and regenerate reports that read the log files
+ A new trigger action to change an asset's attributes
+ A new trigger action to set the web path of an asset
+ A new trigger action to create an asset
+ A new trigger event to allow a trigger to be fired when the status of an asset has changed
- The thumbnail size restriction has been removed
+ Group security restrictions now default to allow unrestricted screen access
+ PDF File assets now have a password field where you can enter the password to unlock the PDF
+ A new configuration screen has been added that allows users to define their own password rules
+ Triggers now have a new blocking option to block the execution of failed triggers
+ A feature has been added to allow system administrators to enforce a mandatory password change period for users
+ A new design area has been developed to store and display the last few assets that a user views while accessing the frontend of a site
+ New keyword date formats have been created to allow dates to be printed in iCal format
+ The global search and replace tool has now been improved to allow individual matched terms to be selected for replacement
+ The thesaurus metadata field has been changed to allow an editor to select multiple terms for the field using the thesaurus browser
+ The metadata storage system has been improved to allow for faster retrieval of metadata values
+ The Java asset map now supports version 1.5
* Fixed bug: Sub menus in a design disappear when changes to the design are made.
* Fixed bug: Design customisations cannot be deleted from the trash properly
* Fixed bug #196: Uncustomising then recustomising design area in design customisation causes lock error
* Fixed bug #209: Unable to Purge Trash with Design Customisations inside
* Fixed bug #273: Linked CSS Design Area - Changing css asset
* Fixed bug #274: Deleting a design or css customisation from it's parent
* Fixed bug #327: Archive Status Colour makes name almost unreadable
* Fixed bug #278: Asset map behaves inconsistently when an asset is visible with two link types
* Fixed bug #352: Some people can't login using Firefox
* Fixed bug #360: Adding an image without a URL causes the Insert Image script to freeze
* Fixed bug #395: Problem declaring multiple vars in a single MySource AREA
* Fixed bug #406: Permissions should always cascade to dependant assets
* Fixed bug #420: Caching of nested content URLs breaks
* Fixed bug #432: Disappearing thumbnails on divs
* Fixed bug #457: Design area menu_stalks is not XHTML Strict compliant
* Fixed bug #476: Image assets can't be cloned
* Fixed bug #477: Permission Cascading in Designs
* Fixed bug #488: Laying out the layout manager causes 0 is not valid asset error
* Fixed bug #491: asset_manager::assetInTrash(exclusive=true) returns incorrect result
* Fixed bug #492: Bookmarks show in Broken link report
* Fixed bug #493: Permission check is ignoring the groups extending "User Group"
* Fixed bug #498: DIV properties content type should default to current type
* Fixed bug #501: Login_Form design area input boxes not using classes
* Fixed bug #506: login_form design area not XHTML strict compatible
* Fixed bug #507: Cant set max idle time to 0
* Fixed bug #509: Two Login boxes on a page means you can't login using the first one
* Fixed bug #511: IMG tag created by custom image design area is not XHTML compliant
* Fixed bug #513: Parenthesis in design urls and import() statements break URL
* Fixed bug #515: System adds Searchable Asset Type and can't remove using Remove
* Fixed bug #517: Table editor javascript error
* Fixed bug #518: Invisible tables in WYSIWYG table editor
* Fixed bug #519: Keyword %asset_lineage% should use short_name of asset
* Fixed bug #526: Customisation cannot be created in some case
* Fixed bug #527: Possible undeclared variable in design_edit_fns
* Fixed bug #528: Design/Media/Users folders can't get Designs applied
* Fixed bug #529: User groups don't have a Web Paths screen
* Fixed bug #530: Settings screen doesn't work on User Group assets
* Fixed bug #532: Force <p> and <br> tags in the editor
* Fixed bug #534: Problems with declared_vars design area
* Fixed bug #537: Default Value Not Displaying in Chosen Date Format
* Fixed bug #540: Customised design areas not always updated
* Fixed bug #542: Sort order problem with newly created assets
* Fixed bug #543: Editing interface referencing wrong file
* Fixed bug #545: Checkbox list has default selection
* Fixed bug #546: read messages in inbox will not delete
* Fixed bug #548: Missing table error during install
* Fixed bug #550: Cannot bump major version on some assets
* Fixed bug #554: Cron manager bails without clearing error jobs
* Fixed bug #556: No Table Row Delete Button
* Fixed bug #557: Setting the character set does nothing
* Fixed bug #551: CSS comments stop WYSIWYG styles from being shown
* Fixed bug #552: Image transparency not preserved when resizing
* Fixed bug #568: Asset names contain unencoded HTML characters
* Fixed bug #572: Sysadmins getting locked out with 0 max login attempts
* Fixed bug #574: Nested Redirect assets will still redirect if viewed in the backend
* Fixed bug #577: Infinite loop with insert_image.php
* Fixed bug #578: Hitting enter twice produces a mispositioned line
* Fixed bug #586: Completed time not shown on the last step of a workflow
* Fixed bug #599: Metadata Date Incorrect When Keyword Chosen
* Fixed bug #600: Trigger manager - query too long
* Fixed bug #603: Table content disappears in table editor window when editing large tables
* Fixed bug #604: Inconsistent treatment of new-linking/cloning vs. moving assets for trashed assets
* Fixed bug #605: Missing metadata default value (not confirmed)
* Fixed bug #608: Created assets remain in memory
* Fixed bug #611: Error adding CSS file to design (not confirmed)
* Fixed bug #616: Relevance weights reset during step_03
* Fixed bug #617: Design loses Text File in Safe Edit (not confirmed)
* Fixed bug #618: Heading styles shortcut keys not working in WYSIWYG (not confirmed)
* Fixed bug #619: Workflow reminder messages have broken links
* Fixed bug #620: Thesaurus browser popup appears almost off the screen
* Fixed bug #633: No metadata field is displayed if 'Only if filled' option is set
* Fixed bug #635: Hipo Jobs with large number of assets fail when processed in one group
* Fixed bug #636: Workflow schemas can be removed during workflow
* Fixed bug #639: Event manager - memory
* Fixed bug #643: Option list attribute ignores typed values if you dont click "add"
* Fixed bug #644: Insert Link box's asset finder is broken in DEV
* Fixed bug #645: Selecting to NOT cascade permissions causes lock cascades
* Fixed bug #649: Problem moving assets with children; treeids for kids not re-created
* Fixed bug #650: multiple declared vars type="boolean" error
* Fixed bug #653: Simple edit has JavaScript error
* Fixed bug #656: workflow_manager - undefined variables
* Fixed bug #658: Standard Page Content Div won't release lock with parent

CMS

+ Asset listings can now have assets listed at a user defined hard set position in the list
+ added two keywords for for use in listing assets to print the thumbnails url and caption
+ Added position formats to define the format of asset at a particular position in the list
+ The asset listing can now list assets above the root node as well as below.
+ Listing assets can now list non-live assets
+ All listing assets now extend the same set of listing functionality
+ All listing assets can now sort their lists by the value of an asset attribute
+ Added new keywords in the asset listing to link multiple asset listings together
+ Custom Form Sections can now be named during creation
+ Form submissions are now printed on screen in order of their submission time
+ Form rules Value Begins With, Value Ends With, Value Contains, Value Found In and Regular Expression now have a case sensitive option
+ New create location for an asset builder to allow for a user to choose a location to create the asset from the frontend
+ Listing assets can now display a sort by option on the frontend
+ Form submissions now have a details screen where you can edit the answers to questions that still exist in the form that created the submission
* Fixed bug #206: Custom Form - questions being shown on the asset map in reverse sort order
* Fixed bug #441: Submitting Details screen of Asset Listing wipes customised asset type formats
* Fixed bug #471: Custom form displays date when only time is set to display
* Fixed bug #475: Asset Listing - Positional Formats not being printed
* Fixed bug #480: Client Side validation errors if Selection Limit rule is applied to Tickbox List
* Fixed bug #484: Custom form select list won't allow "0"
* Fixed bug #495: Asset listing uses default format when it should use a customised one
* Fixed bug #496: Asset listing does not replace %asset_contents% keyword
* Fixed bug #516: Remote Content cannot be nested
* Fixed bug #523: Remote binary content fails
* Fixed bug #524: asset_name for custom forms displays as "Form Contents"
* Fixed bug #562: Email format does not replace keywords in 'To' field
* Fixed bug #587: Custom form, switching html/plain text email breaks wysiwyg
* Fixed bug #594: Using an asset builder to create a calendar event returns error
* Fixed bug #602: Email receipts not sent if a blank email address is entered
* Fixed bug #609: Asset listing root nodes default (not confirmed)
* Fixed bug #610: %asset_listing% keyword is left unreplaced when there are no assets to list
* Fixed bug #615: keyword select dropdown missing from Customised List Position Formats (not confirmed)
* Fixed bug #621: Comparison form rule breaks when apostrophe in response
* Fixed bug #622: Adding questions on a fresh install gives attribute not found errors
* Fixed bug #624: Asset Listing inserts form tags when no dynamic keywords are used
* Fixed bug #629: When exporting form logs the frontend errors
* Fixed bug #648: Can't select an attribute to sort by in asset listing
* Fixed bug #659: Listing Engine - Position not respected
* Fixed bug #669: Asset Builder WYSIWYG Keywords missing
* Fixed bug #670: Asset Builder using undefined function translated()


LDAP

+ The LDAP bridge can noe explicitly set the LDAP protocol to use
+ LDAP user groups are now visible on the frontend
* Fixed bug #561: LDAP fails to get groups based on the DN

Calendar

+ Calendar page now allows further restriction of the events displayed using the personalised attribute
* Fixed bug #415: Recurring Event Cancellation\Modification does not work
* Fixed bug #627: Mouseover description popups for calendar events in wrong position
* Fixed bug #631: Recurring Event Cancellation asset asks for name and wont create
* Fixed bug #634: Multi-day events don't always show up on the first day
* Fixed bug #637: Error when creating calendar event modification
* Fixed bug #651: Yearly events listing is not in chronological order

Installer

* Fixed bug #549: Installer allows mysql being selected

Search

+ Searches performed using a search page are now logged to file
+ The search box can now display a list of categories from the selected search page
+ The indexing system has been improved to better index PDF and Word documents
+ The search page now has a new bodycopy to let you define the screen displayed if no results were found for a search
+ The search page can now accept dynamic root nodes to use as search nodes on the query string
+ The search page now has an option to allow it to conduct empty searches

Ecommerce

* Ecommerce engine now has advanced listing capabilities similar to those of the asset listing


VERSION 3.1.0 RC2

Featured Changes
----------------------

Cache Manager
	MySource Matrix RC2 introduces basic content caching support to improve the performance of high-load sites. Caching is turned off by default on new and existing systems. Caching can be enabled on the details screen of the cache manager.

	Caching is currently supported for standard pages, asset listings, site maps, and search pages. The contents of the page is cached depending on the groups the visitor exists in (if any). In the case of search results, the results of each search term are cached by the Search Manager and the look of each search results is cached by the Search Page. Search results can continue to be sorted dynamically while still maintaining the speed improvements provided by the caching system.

	Note that the cache for an asset is not automatically cleared each time it is changed, so some changes may not appear until the next time the cache is refreshed automatically by MySource Matrix. This time period is configurable.


Rollback Management
	Rollback management is now handled by the rollback_management.php script in the MySource Matrix scripts directory (MYSOURCE_ROT/scripts/rollback_management.php). This script allows you to enable and disable rollback within MySource Matrix, as well as clean out any old rollback entries that you no longer want to keep. For example, you can purge all rollback entries older than 2 weeks. Usage of the script can be viewed by running the script without any arguments (php scripts/rollback_management.php). The script can only be run from the command line.

	When enabling and disabling rollback, the flag MYSOURCE_ROOT/data/private/conf/main.inc configuration file must be changed manually to rollback on or off:
		define('SQ_CONF_ROLLBACK_ENABLED', '1'); <-- Rollback is enabled
		define('SQ_CONF_ROLLBACK_ENABLED', '0'); <-- Rollback is disabled


Added OS X Support
	MySource Matrix RC2 introduces support for OS X using Mozilla based browsers.

	Mozilla, Mozilla Firefox, and Camino browsers on Mac OS X run version 1.3.1 of the Java Runtime Environment (JRE) by default rather than Java 1.4.x which is required by MySource Matrix. This is the case even if a Java 1.4 version is installed on the system. In order to run Java 1.4 on a Mozilla based browser you will require the Java Embedding Plugin (JEP). To install, download the plugin from http://javaplugin.sf.net/ and follow the instructions.

	The MySource Matrix WYSIWYG editor is not supported in Safari, so a Mozilla based browser must be used for content editing on OS X.

	More information can be found at our forums: http://forums.matrix.squiz.net/index.php?showtopic=17


Workflow Notification
	Users and groups within workflow schemas can now be notified when an asset goes live after the workflow has been completed. To configure MySource Matrix to email these notifications, a manual change has to be made to a configuration file for existing systems. New systems will already have this change.
	Edit the file MYSOURCE_ROOT/data/private/conf/messaging_service.inc and append asset.status.notify to the SQ_MS_SEND_MAIL_WHITE_LIST array. Make sure this setting is on a new line.

	For example:
		For an array that looks like this:
			define('SQ_MS_SEND_MAIL_WHITE_LIST', 'asset.locking.forced
			config.*
			hipo.*
			asset.workflow.invitation
			asset.workflow.announce');

		Change the array to look like this:
			define('SQ_MS_SEND_MAIL_WHITE_LIST', 'asset.locking.forced
			config.*
			hipo.*
			asset.workflow.invitation
			asset.workflow.announce
			asset.status.notify');


Custom CSS for Designs
	MySource Matrix now allows for much greater customisation of CSS files in design. The new CSS File asset allows you to upload a CSS parse file which is evaluated by MySource Matrix at run-time and allows for custom CSS generation. It supports all of the MySource Matrix standard design areas, though only a few are appropriate.

	The new linked CSS design area allows you to create a link from a Design to a CSS File asset:
		<MySource_AREA id_name="css_file" design_area="linked_css">
		   <MySource_SET name="tag_type" value="link_tag|import_tag" />
		   <MySource_SET name="media" value="all|aural|braille|embossed|handheld|print|projection|screen|tty|tv" />
		</MySource_AREA>

	If you set the tag_type option to 'link_tag', the following output will be generated:
		<link rel="stylesheet" type="text/css" href="/link/to/file.css" media="<media value>" />

	If you set the tag_type option to 'import_tag', the following output will be generated:
		@import url(/link/to/file.css);

	Note: CSS Customisations are still in development and should not be used on a production site.


LDAP Permission Bug
	A bug existed in MySource Matrix RC1 that caused incorrect menus to be shown to some LDAP users when viewing a page. Users currently experiencing this problem should manually reparse all designs within their system. A design can be manually reparsed by checking the 'Manual Reparse' box on the details screen of a Design asset.


Complete Changelog
----------------------

Core

+ Assets now store the time they last went live as a published date (can be used in metadata)
+ All assets now have their name, created / updated / published date indexed for searching
+ The created and published dates of an asset can now be changed by an administrator of the asset on the settings screen
+ Added asset information section to top of asset screens to show created / updated / published information about the asset
+ When the contents of a page is updated, the last updated date of the page is now updated as well
+ Cloned assets now use their parent's link type instead of always being TYPE_1 linked
+ Asset map now sorts the add menu alphabetically
+ Asset map now shows a list of statuses and their colours
+ 'Make Live' options for status changes are now displayed as 'Apply for Approval'
+ Some status colours have been changed to differentiate the statuses more easily
+ All assets can now have a thumbnail attached to them
+ Thumbnails now show as images in the administration interface instead of just popup links
+ The thumbnail URL for an asset can now be printed in the design using <MySource_PRINT id_name="__global__" var="asset_thumbnail_url" />
+ The thumbnail URL for an asset can now be printed in a design menu using <MySource_PRINT id_name="IDNAME" var="asset_thumbnail_url" />
+ The thumbnail for an asset can now be printed in a design menu using <MySource_PRINT id_name="IDNAME" var="asset_thumbnail" />
+ Body design area can now print as HTML or text only by using <MySource_SET name="format" value="HTML|text" /> inside the design area tag
+ Added head design area so assets can print data in the head tags of designs (eg. stylesheets)
+ Asset lineage design area now allows a negative level value to allow the showing of the last n levels of the lineage
+ Added new CSS asset to allow more flexible configuration of stylesheets in designs
+ Bodycopy containers and cells can now be edited independently of the bodycopy
+ Added permissions screen to bodycopy asset so you can set permissions at this level
+ Added option to disable keyword replacements for an individual bodycopy container
+ Better handling of lock types in the simple editing interface
- Removed the importing of design CSS files in the content editing interfaces as they often caused CSS conflicts
+ Remap manager allows an uploaded CSV file to omit the expiry column
- Rollback can no longer be turned on and off from the administration interface (use the rollback management script instead)
+ Users and groups in workflow schemas can now be notified when the asset goes live
+ Workflow messages (asset requiring approval etc) are now sent in a single email
+ A preview link is now shown in workflow emails
+ Metadata fields can now be hidden from printing in the metadata design area if empty or at all
+ Metadata schemas and sections can now be hidden from printing in the metadata design area
+ Metadata screen now includes a popup to view indexed keywords for the asset if the search manager is installed
+ Metadata selection fields can now allow multiple values to be selected
+ Metadata selection fields now allow their current key/value pairs to be edited
+ The size of multiple line metadata text fields has been increased
+ Added incomplete metadata report asset to show a list of asset that have incomplete metadata fields
+ Added configuration page for external tools (such as HTML Tidy)
+ Added new PDF file asset
+ Added new MS Word document asset
+ Added cache manager to allow the contents of assets to be cached
+ The contents of standard pages can now be cached
+ Added new accessibility plugin to WYSIWYG to insert ABBR and ACRONYM tags
+ HTML Tidy WYSIWYG plugin now has a button that allows you to strip certain tags from the HTML source while editing
+ Insert link WYSIWYG plugin no longer uses Javascript for simple new window links
+ Table styles in the administration interface are now a bit softer
+ Added script to mass create assets (scripts/import/create_pages.php)
+ Added script to mass import images (scripts/import/import_files.php)
+ Move system script now informs you to delete all existing HIPO jobs to stop errors after the move
* Fixed bug: bodycopy popups in simple editing interface included a design
* Fixed bug: bodycopy tooltips don't work
* Fixed bug: create container buttons on bodycopy contents screen shown when user doesn't have write access
* Fixed bug: bodycopy status section on details screen does not work
* Fixed bug: a FIXME error is sometimes displayed when approving workflow after completing metadata
* Fixed bug: an error is displayed when entering metadata if the search manager is not installed
* Fixed bug: approval during safe edit does not check for incomplete metadata
* Fixed bug: incomplete metadata causes bodycopy and div assets to break during approval
* Fixed bug #35: asset map gets new session when using Firefox on OS X, causing asset map to not display
* Fixed bug #70: asset map stays in asset finder mode when page refreshes
* Fixed bug #74: layout asset has incorrect allow_access flag set, so it does not appear in the asset map add menu
* Fixed bug #79: uninstalling asset types fails if the asset type is moved
* Fixed bug #80: install generates errors when using PEAR:XML_Parser v1.1.0+
* Fixed bug #81: formatting of time related metadata keywords do not match descriptions
* Fixed bug #86: files end up without URLs when system root URLs configuration option contains trailing newline characters
* Fixed bug #87: column and row options are the wrong way around in the insert table WYSIWYG popup
* Fixed bug #92: min and max values for date fields are not correctly compared
* Fixed bug #106: bodycopy tables had problems setting colspans in some situations
* Fixed bug #108: metadata replacement values are not always set correctly
* Fixed bug #109: selecting the 'all' option for workflow group logic causes an error
* Fixed bug #115: design CSS styles do not show in the WYSIWYG when editing in the simple editing interface
* Fixed bug #119: changes to asset metadata are not indexed
* Fixed bug #124: Default 'URL Not Found' error now returns a 404 HTTP code
* Fixed bug #126: login design does not create a version of its parse file during the install, causing errors when editing after install
* Fixed bug #127: asset map allows you to try and move shadow assets even though it always causes errors
* Fixed bug #129: set table_type=innodb problems for MySQL < 4.0.3
* Fixed bug #130: asset map add menu not checking permissions correctly
* Fixed bug #134: IMG tag in stalks menu is missing a closing quote
* Fixed bug #142: cannot use administration interface with images turned off in the browser
* Fixed bug #143: unable to clone assets that have shadow assets under them (such as custom forms)
* Fixed bug #146: layouts do not preserve the ignore_frames variable
* Fixed bug #147: squiz server dies when changing running mode from server to web
* Fixed bug #152: database schema allows NULL values for fields that should not be NULL
* Fixed bug #161: bodycopy containers are printing system variables in HTML output (eg. layout_type)
* Fixed bug #163: incomplete metadata fields do not block workflow if metadata values have not yet been set
* Fixed bug #169: You can delete a user's inbox and workspace

CMS

+ Added keyword replacements to display individual questions (custom form)
+ Better customisation of form emails (custom form)
+ New send to a friend keyword, referral_url, the prints the URL that the user was on when they clicked to get to the form (custom form)
+ New up and down arrows for reordering form questions (custom form)
+ Asset builder form now has a unique name (asset builder)
+ Asset builder can now be configured to create multiple asset types (asset builder)
+ Required attribute and create locations are now set for each asset type being created (asset builder)
+ Create locations can now specify a link type (asset builder)
+ Several sets of optional create locations can now be created (asset builder)
+ The optional create location dropdown can now have its input styles configured (asset builder)
+ New comparison operator, 'contains', for create location rules (asset builder)
+ New random list option to select a random group of assets to list (asset listing)
+ More keywords now available in the WYSIWYG dropdown (asset listing)
+ The contents of asset listings can now be cached (asset listing)
+ The content of site maps can now be cached (site map)
- Removed the ability to put executed PHP code directly into raw HTML content cells
+ Added Whats New asset to list assets updated / created / published is a configurable date range
+ Added Remote Content asset to embed the contents of a remote URL into the current site
+ Added Broken Links Report to show the status of internal, external, and mailto URLs
* Fixed bug: bad submission log causes submission list to stop printing (custom form)
* Fixed bug: email rules cause errors when POST var is not set (custom form)
* Fixed bug: select box questions do not respect their default value when being painted (custom form)
* Fixed bug: required form questions cause errors when single quotes are in the user submitted value (custom form)
* Fixed bug: double quotes in form values cause them to be truncated when re-displaying the form after a broken rule (custom form)
* Fixed bug: asset listing shows asset that the user does not have read access to (asset listing)
* Fixed bug: first character of field name is lost if no namespace is defined (harvest control list)
* Fixed bug #15: cannot updated the name of form questions (custom form)
* Fixed bug #69: incorrect locks prevent form questions from being editing (custom form)
* Fixed bug #76: valid email rule did not work (custom form)
* Fixed bug #77: option list form questions cannot have new options added (custom form)
* Fixed bug #128: nested content cells don't check read access before printing contents
* Fixed bug #141: skipped sort order values are causing errors for question links (custom form)
* Fixed bug #157: name of questions is not escaped inside XML logs, causing errors for questions with HTML tags in the name (custom form)

LDAP

+ LDAP bridge now works when set to the root of an Active Directory [contributed by Richard Buggy]
+ The LDAP user list can now be sorted by a user attribute in the asset map
* Fixed bug: LDAP users can't see pages in the menu unless their group is given read access to the page
* Fixed bug: LDAP users could not create HIPO jobs because of database column type
* Fixed bug: LDAP user permission can now be deleted when DN contains a space
* Fixed bug #99: LDAP users get error loading the asset map because they don't have a workspace
* Fixed bug #158: workflow emails are not sent to LDAP users or groups
* Fixed bug #162: user permissions script was deleting all LDAP user and group permissions without checking if they exist

Search

- Details screen of search folder no longer releases the lock automatically
+ Search Manager now supports noise word removal when indexing
+ Search Manager can now cache the results of searches
+ New search within search feature that can be configured in the Search Page
+ Added search categories so users can search within defined sections of a site
+ Can now select the statues that should be searched by the Search Page
+ New keyword for each search field to display the terms searched on the results page
+ Added date range search for attribute, metadata, and asset dates (created / updated / published)
+ Improved searching on metadata selection fields
+ New keyword for each search field to allow a user to select if 'all' or 'any' of the terms should be matches for that field
+ Search results can now be sorted by relevance, name, dates, and type
+ Search page now uses '_' instead of square brackets when printing fields for XHTML compliance
+ Added Search List asset to list available search terms for a search field that perform the search for that term when clicked
* Fixed bug: manually reindexing assets causes assets to reindex once for every dependant child they have
* Fixed bug: purging assets causes object to string conversion errors
* Fixed bug #110: metadata date searching does not allow ranges
* Fixed bug #131: search folders don't display assets for some statuses
